@model yanzhilong.Models.ProductsViewModel
@{var headerMetadata = Model.products.FirstOrDefault();}

@{
    //Layout = null;
    ViewBag.Title = "教程中心";
    ViewBag.NavActive = 1;//设置导航激活
}

<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
    <h1 class="page-header">产品管理</h1>
    @Html.ActionLink("发布新产品", "Create","Product")
    <div class="table-responsive">
        <table class="table table-striped table-manage">
            <thead>
                <tr>

                    <th>
                        @Html.DisplayNameFor(model => headerMetadata.Name)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => headerMetadata.Content)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => headerMetadata.Version)
                    </th>
                    
                    <th>
                        @Html.DisplayNameFor(model => headerMetadata.Disc)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => headerMetadata.CreateAt)
                    </th>

                    <th>
                        操作
                    </th>
                </tr>
            </thead>
            <tbody>

                @foreach (var item in Model.products)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.Content)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.Version)
                        </td>
                        
                        <td>
                            @Html.DisplayFor(modelItem => item.Disc)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.CreateAt)
                        </td>

                        <td>
                            @Html.ActionLink("编辑", "Edit", "Product", new { id = item.ProductID },new { target = "_blank" }) |
                            @Html.ActionLink("详情", "Details", "Product", new { id = item.ProductID }, new { target = "_blank" }) |
                            @Html.ActionLink("删除", "Delete", "Product", new { id = item.ProductID }, null)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <div class="container">
        <!--  分页视图 -->
        @Html.Action("Index", "Paging", new { pvm = Model.pvm })
    </div>
</div>