<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="SxImage" xmlns="http://ibatis.apache.org/mapping"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" >

  <alias>
    <typeAlias alias="SxImage" type="yanzhilong.Domain.SxImage,yanzhilong" />   
  </alias>

  <resultMaps>
    <resultMap id="SelectAllResult" class="SxImage">
       <result property="Id" column="Id" dbType="VARCHAR" type="string" />
       <result property="Url" column="Url" dbType="VARCHAR" type="string" />
       <result property="Sort" column="Sort" dbType="INT" type="int" />
       <result property="sxShoe.Id" column="ShoeId" dbType="VARCHAR" type="string" />
    </resultMap>     
  </resultMaps>

  <statements>
    <select id="SelectAllSxImages" resultMap="SelectAllResult">
      <![CDATA[  
      SELECT 
      Id,
      Url,
      Sort,
      ShoeId
      FROM sx_image
      ]]>
    </select>

    <select id="SelectSxImageByCondition" parameterClass="SxImage" resultMap="SelectAllResult" extends="SelectAllSxImages">
      <dynamic prepend="WHERE">
      
       <isNotEmpty prepend="AND" property="Id">
          <![CDATA[  
           Id = #Id#
            ]]>
        </isNotEmpty>
        
       <isNotEmpty prepend="AND" property="Url">
          <![CDATA[  
           Url = #Url#
            ]]>
        </isNotEmpty>
        
       <isGreaterThan prepend="AND" compareValue="-1" property="Sort">
          <![CDATA[  
           Sort = #Sort#
            ]]>
        </isGreaterThan>
        
       <isNotEmpty prepend="AND" property="sxShoe.Id">
          <![CDATA[  
           ShoeId = #sxShoe.Id#
            ]]>
        </isNotEmpty>
        
      </dynamic>
    </select>
    
    <insert id="InsertSxImage" parameterClass="SxImage">
      <![CDATA[ 
      INSERT INTO sx_image
      (
      Id,
      Url,
      Sort,
      ShoeId
      )
      VALUES
      (
      #Id#,
      #Url#,
      #Sort#,
      #sxShoe.Id#
      )
      ]]>
    </insert>
    
    <update id="UpdateSxImage" parameterClass="SxImage">
      <![CDATA[           
      UPDATE sx_image SET   
      Id=#Id#,
      Url=#Url#,
      Sort=#Sort#,
      ShoeId=#sxShoe.Id#
      WHERE Id = #Id#
      ]]>
    </update>
   
    <delete id="DeleteSxImage" parameterClass="SxImage">
      <![CDATA[
      Delete From sx_image Where Id = #Id#
      ]]>
    </delete>

  </statements>
</sqlMap>
