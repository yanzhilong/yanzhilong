@model yanzhilong.Models.UserRegisterModel
@using yanzhilong.Domain
@{
    Layout = "_Layout.cshtml";
    ViewBag.Title = "注册";
}

@using (Html.BeginForm("Register", "Home", FormMethod.Post, new { @class = "form-signin" }))
{
    @Html.AntiForgeryToken()

        <h2 class="form-signin-heading">欢迎您！</h2>

        @Html.ValidationSummary(true, "注册失败", new { @class = "text-danger" })

        @Html.DropDownListFor(model => model.RegisterType, Model.RegisterTypeItems, new { id = "RegisterType", @class= "form-control text-box single-line" })

        @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control", placeholder = "用户名", style = "margin-top:10px" } })
        @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })

        @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", placeholder = "邮箱", style = "margin-top:10px;display:block" } })
        @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })

        @Html.EditorFor(model => model.PhoneNumber, new { htmlAttributes = new { @class = "form-control", placeholder = "手机", style = "margin-top:10px;display:block" } })
        @Html.ValidationMessageFor(model => model.PhoneNumber, "", new { @class = "text-danger" })

        @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", placeholder = "密码", style = "margin-top:10px" } })
        @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })

        @Html.EditorFor(model => model.RepPassword, new { htmlAttributes = new { @class = "form-control", placeholder = "密码", style = "margin-top:10px" } })
        @Html.ValidationMessageFor(model => model.RepPassword, "", new { @class = "text-danger" })

        <input type="submit" value="注册" class="btn btn-lg btn-primary btn-block" />

}

<script>

    $(document).ready(function () {
        $("#RegisterType").change(function () {
            var type = $("#RegisterType").val();
            switch (parseInt(type)) {
                case @((int)UserRegisterTypeEnum.UserName):
                    $("#UserName").css('display','block');
                    $("#Email").css('display','none');
                    $("#PhoneNumber").css('display','none');
                    break;
                case @((int)UserRegisterTypeEnum.Email):
                    $("#UserName").css('display','none');
                    $("#Email").css('display','block');
                    $("#PhoneNumber").css('display','none');
                    break;
                case @((int)UserRegisterTypeEnum.PhoneNumber):
                    $("#UserName").css('display','none');
                    $("#Email").css('display','none');
                    $("#PhoneNumber").css('display','block');
                    break;
            }
        });
        $("#RegisterType").change()
    });

</script>